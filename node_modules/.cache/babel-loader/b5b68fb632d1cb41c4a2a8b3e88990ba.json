{"ast":null,"code":"var _jsxFileName = \"/Users/hoaito/Desktop/music/src/components/MusicList/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { Box, CardActionArea, CardMedia, Grid, Paper, Typography } from \"@material-ui/core\";\nimport Slider from \"@material-ui/core/Slider\";\nimport { ThemeProvider, useTheme, withStyles } from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Link, useHistory, useLocation, useParams, useRouteMatch } from \"react-router-dom\";\nimport useStyles from \"../style\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nMusicList.propTypes = {\n  musics: PropTypes.object.isRequired\n};\nMusicList.defaultProps = {// musics: [],\n};\n\nfunction MusicList(props) {\n  _s();\n\n  const {\n    musics,\n    selectMusic,\n    setSelectMusic,\n    indexRef,\n    country,\n    setCountry,\n    kindOfMusic,\n    setKindOfMusic,\n    play,\n    setPlay,\n    firstTimeRef\n  } = props;\n  console.log(\"DANH SACH NHAC: \", musics);\n  const patch = useRouteMatch();\n  const [musicId, setMusicId] = useState(0);\n  console.log(\"ID PARAM: \", musicId);\n  console.log(\"Patch: \", patch);\n  var countryName = patch.path.slice(1);\n  countryName = countryName.substring(countryName.indexOf(\"/\") + 1);\n  countryName = countryName.substring(0, countryName.indexOf(\"/\")); //Handle covert / to - : Pop/Latin => Pop-Latin\n\n  musics.map(el => {\n    el.name = el.name.replace(\"/\", \"-\");\n  });\n  let indexInTop100 = musics.findIndex(obj => obj.name === patch.params.theloai);\n  console.log(\"Vi Tri: \", indexInTop100);\n  const history = useHistory();\n  const musicListNew = musics[indexInTop100].songs;\n  const musicList = musicListNew;\n  let i = -1;\n  musicList.map(el => {\n    el.index = i + 1;\n    i = i + 1;\n  });\n  const classes = useStyles();\n  const params = useParams(); //Handle MusicClick\n\n  const handleMusicClick = music => {\n    //Co the nghe nhac o nhieu bo suy tap va nhieu quoc gia nen phai set lai vi tri, dang nghe nhac VN co the chuyen sang nghe nhac AM\n    setKindOfMusic(indexInTop100);\n    setCountry(countryName); //Dau tien vao chay useEffect se set firstTimeRef = true\n\n    firstTimeRef.current = false;\n\n    if (music && firstTimeRef.current === false) {\n      var indexMusic = musicList.findIndex(el => el == music);\n      const newSelectMusic = {\n        title: music.title,\n        creator: music.creator,\n        img: music.avatar,\n        url: music.music,\n        img_thumb: music.bgImage,\n        index: indexMusic,\n        active: true\n      };\n      indexRef.current = indexMusic;\n      setSelectMusic(newSelectMusic); // var urlArr = patch.url.split(\"/\");\n      // var musicUrl = `${urlArr[0]}/${urlArr[1]}/${urlArr[2]}/${urlArr[3]}/${music.index}`;\n      // history.push(musicUrl);\n    } else return;\n  };\n\n  useEffect(() => {\n    const newIsPlay = true;\n    let newTitle; //console.log(\"PHAT HIEN THAY DOI BAI HAT\");\n    // if (firstTimeRef.current === true) {\n    //   console.log(\"First time, don't play\");\n    //   const newPlay = {\n    //     isPlay: false,\n    //     title: \"Play\",\n    //   };\n    //   setPlay(newPlay);\n    // } else {\n    //   console.log(\"Not first time, countinue play\");\n    // }\n\n    var elmnt = document.getElementById(selectMusic.title);\n    console.log(\"Scroll\", elmnt);\n\n    if (elmnt) {\n      elmnt.scrollIntoView({\n        behavior: \"smooth\",\n        //auto\n        block: \"center\",\n        inline: \"center\"\n      });\n    }\n  }, [selectMusic]); //handle Firsttime don't play\n  // useEffect(() => {\n  //   const newPlay = {\n  //     isPlay: false,\n  //     title: \"Play\",\n  //   };\n  //   setPlay(newPlay);\n  //   return;\n  // }, []);\n  //end handle Firsttime don't play\n  //End Handle MusicClick\n  //Handle Play music click\n\n  const handlePlayClick = () => {\n    const newIsPlay = !play.isPlay;\n    let newTitle;\n    if (newIsPlay === true) newTitle = \"Pause\";else newTitle = \"Play\";\n    const newPlay = {\n      isPlay: newIsPlay,\n      title: newTitle\n    };\n    setPlay(newPlay);\n  };\n\n  useEffect(() => {\n    let audio = document.getElementById(\"music\");\n\n    if (play.isPlay === true) {\n      audio.play();\n    } else audio.pause(); // audio.play();\n\n\n    document.title = \"NhacCuaHoai - \" + selectMusic.title;\n  }, [play]); //End handle Play music click\n  //Handle PreviosClick\n\n  const handlePreviosClick = () => {\n    indexRef.current === 0 ? indexRef.current = 0 : indexRef.current = indexRef.current - 1;\n    selectMusic.active = false;\n    const newCurrentMusic = {\n      title: musicList[indexRef.current].title,\n      creator: musicList[indexRef.current].creator,\n      img: musicList[indexRef.current].avatar,\n      img_thumb: musicList[indexRef.current].bgImage,\n      url: musicList[indexRef.current].music,\n      index: indexRef.current,\n      active: true\n    };\n    setSelectMusic(newCurrentMusic);\n  }; //End Handle PreviosClick\n  //Handle NextClick\n\n\n  const repeatRef = useRef(false);\n  const [repeat, setRepeat] = useState({\n    action: true\n  });\n  const theme = useTheme();\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      sm: 8,\n      style: {\n        backgroundColor: \"transparent\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.list,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          className: classes.card,\n          style: {\n            // backgroundImage: \"linear-gradient(to bottom, #ad5389, #3c1053)\",\n            backgroundColor: \"transparent\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            sm: 12,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 8,\n                sm: 6,\n                alignItems: \"center\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  gutterBottom: true,\n                  variant: \"h5\",\n                  component: \"h5\",\n                  color: \"#ffffff\",\n                  style: {\n                    color: \"white\"\n                  },\n                  align: \"left\",\n                  children: \"B\\xE0i h\\xE1t\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 4,\n                sm: 4,\n                alignItems: \"left\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  gutterBottom: true,\n                  variant: \"h5\",\n                  component: \"h5\",\n                  color: \"#ffffff\",\n                  style: {\n                    color: \"white\"\n                  },\n                  align: \"left\",\n                  children: \"Ca s\\u0129\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 2,\n                sm: 2,\n                alignItems: \"center\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  gutterBottom: true,\n                  variant: \"h5\",\n                  component: \"h5\",\n                  color: \"#ffffff\",\n                  style: {\n                    color: \"white\"\n                  },\n                  align: \"center\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              sm: 12,\n              xs: 12,\n              className: classes.mainjs,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 2,\n                id: \"listTable\",\n                children: musicList.map(musicListRender => {\n                  if (musicListRender.index === indexRef.current && musicListRender.title === selectMusic.title) {\n                    return /*#__PURE__*/_jsxDEV(CardActionArea, {\n                      className: (classes.musicItem, classes.musicSelected),\n                      onClick: () => handleMusicClick(musicListRender),\n                      bgcolor: \"primary.main\",\n                      children: /*#__PURE__*/_jsxDEV(Grid, {\n                        item: true,\n                        xs: 12,\n                        sm: 12,\n                        children: /*#__PURE__*/_jsxDEV(Grid, {\n                          container: true,\n                          spacing: 2,\n                          children: [/*#__PURE__*/_jsxDEV(Grid, {\n                            item: true,\n                            xs: 8,\n                            sm: 6,\n                            alignItems: \"center\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: classes.musicItem,\n                              children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n                                className: classes.musicImg,\n                                component: \"img\",\n                                alt: \"Contemplative Reptile\",\n                                image: musicListRender.avatar,\n                                title: \"Contemplative Reptile\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 284,\n                                columnNumber: 35\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: classes.musicItemTitle,\n                                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                                  variant: \"h6\",\n                                  color: \"primary\",\n                                  className: classes.mainContent,\n                                  gutterBottom: true,\n                                  id: musicListRender.title,\n                                  children: musicListRender.title\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 292,\n                                  columnNumber: 37\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                                    pl: 3,\n                                    variant: \"subtitle1\",\n                                    align: \"left\",\n                                    gutterBottom: true,\n                                    color: \"primary\",\n                                    className: classes.mainContent,\n                                    style: {\n                                      whiteSpace: \"nowrap\",\n                                      overflow: \"hidden\",\n                                      textOverflow: \"ellipsis\",\n                                      display: \"-webkit-box\",\n                                      boxOrient: \"vertical\",\n                                      lineClamp: 1,\n                                      wordBreak: \"break-all\",\n                                      overflow: \"hidden\"\n                                    },\n                                    children: musicListRender.title\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 303,\n                                    columnNumber: 39\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 302,\n                                  columnNumber: 37\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 291,\n                                columnNumber: 35\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 283,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 282,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                            item: true,\n                            xs: 4,\n                            sm: 4,\n                            alignItems: \"left\" // className={classes.flexItem}\n                            ,\n                            children: /*#__PURE__*/_jsxDEV(Box, {\n                              display: \"flex\",\n                              justifyContent: \"left\",\n                              m: 1,\n                              p: 1,\n                              color: \"primary\",\n                              children: [\"  \", /*#__PURE__*/_jsxDEV(Typography, {\n                                pl: 3,\n                                variant: \"subtitle1\",\n                                align: \"left\",\n                                gutterBottom: true,\n                                color: \"primary\",\n                                className: classes.musicItem,\n                                className: classes.mainContent,\n                                className: classes.flexItem,\n                                style: {\n                                  whiteSpace: \"nowrap\",\n                                  overflow: \"hidden\",\n                                  textOverflow: \"ellipsis\",\n                                  display: \"-webkit-box\",\n                                  boxOrient: \"vertical\",\n                                  lineClamp: 1,\n                                  wordBreak: \"break-all\",\n                                  overflow: \"hidden\"\n                                },\n                                children: musicListRender.creator\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 342,\n                                columnNumber: 35\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 334,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 327,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                            item: true,\n                            xs: 2,\n                            sm: 2,\n                            alignItems: \"center\",\n                            id: `timeof${musicListRender.title}`\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 366,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 281,\n                          columnNumber: 29\n                        }, this)\n                      }, musicListRender.title, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 275,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 270,\n                      columnNumber: 25\n                    }, this);\n                  } else {\n                    return /*#__PURE__*/_jsxDEV(CardActionArea, {\n                      className: (classes.musicItem, musicListRender.title),\n                      onClick: () => handleMusicClick(musicListRender),\n                      bgcolor: \"primary.main\",\n                      children: /*#__PURE__*/_jsxDEV(Grid, {\n                        item: true,\n                        xs: 12,\n                        sm: 12,\n                        children: /*#__PURE__*/_jsxDEV(Grid, {\n                          container: true,\n                          spacing: 1,\n                          children: [/*#__PURE__*/_jsxDEV(Grid, {\n                            item: true,\n                            xs: 8,\n                            sm: 6,\n                            alignItems: \"center\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: classes.musicItem,\n                              children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n                                className: classes.musicImg,\n                                component: \"img\",\n                                alt: \"Contemplative Reptile\",\n                                image: musicListRender.avatar,\n                                title: \"Contemplative Reptile\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 393,\n                                columnNumber: 35\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: classes.musicItemTitle,\n                                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                                  variant: \"h6\",\n                                  gutterBottom: true,\n                                  className: classes.mainContent,\n                                  id: musicListRender.title,\n                                  children: musicListRender.title\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 401,\n                                  columnNumber: 37\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                                    pl: 3,\n                                    variant: \"subtitle1\",\n                                    align: \"left\",\n                                    gutterBottom: true,\n                                    className: classes.musicItem,\n                                    className: classes.mainContent,\n                                    style: {\n                                      whiteSpace: \"nowrap\",\n                                      // overflow: \"hidden\",\n                                      textOverflow: \"ellipsis\",\n                                      display: \"-webkit-box\",\n                                      boxOrient: \"vertical\",\n                                      lineClamp: 1,\n                                      wordBreak: \"break-all\",\n                                      overflow: \"hidden\"\n                                    },\n                                    children: musicListRender.title\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 410,\n                                    columnNumber: 39\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 409,\n                                  columnNumber: 37\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 400,\n                                columnNumber: 35\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 392,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 391,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                            item: true,\n                            xs: 4,\n                            sm: 4,\n                            alignItems: \"center\" // className={classes.flexItem}\n                            ,\n                            children: /*#__PURE__*/_jsxDEV(Box, {\n                              display: \"flex\",\n                              justifyContent: \"left\",\n                              m: 1,\n                              p: 1,\n                              children: [\"  \", /*#__PURE__*/_jsxDEV(Typography, {\n                                variant: \"subtitle1\",\n                                align: \"left\",\n                                gutterBottom: true,\n                                justifyContent: \"left\" // className={classes.musicItem1}\n                                ,\n                                className: classes.musicItem,\n                                className: classes.mainContent,\n                                className: classes.flexItem,\n                                color: \"primary\",\n                                style: {\n                                  whiteSpace: \"nowrap\",\n                                  overflow: \"hidden\",\n                                  textOverflow: \"ellipsis\",\n                                  display: \"-webkit-box\",\n                                  boxOrient: \"vertical\",\n                                  lineClamp: 1,\n                                  wordBreak: \"break-all\",\n                                  overflow: \"hidden\"\n                                },\n                                children: musicListRender.creator\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 448,\n                                columnNumber: 35\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 441,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 434,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                            item: true,\n                            xs: 2,\n                            sm: 2,\n                            alignItems: \"center\",\n                            id: `timeof${musicListRender.title}`,\n                            children: \" \"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 473,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 390,\n                          columnNumber: 29\n                        }, this)\n                      }, musicListRender.title, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 384,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 379,\n                      columnNumber: 25\n                    }, this);\n                  }\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MusicList, \"q2sxaiZHlP6dl7vwc3oC0C90VL0=\", false, function () {\n  return [useRouteMatch, useHistory, useStyles, useParams, useTheme];\n});\n\n_c = MusicList;\nexport default MusicList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MusicList\");","map":{"version":3,"sources":["/Users/hoaito/Desktop/music/src/components/MusicList/index.jsx"],"names":["Box","CardActionArea","CardMedia","Grid","Paper","Typography","Slider","ThemeProvider","useTheme","withStyles","PropTypes","React","useEffect","useRef","useState","Link","useHistory","useLocation","useParams","useRouteMatch","useStyles","MusicList","propTypes","musics","object","isRequired","defaultProps","props","selectMusic","setSelectMusic","indexRef","country","setCountry","kindOfMusic","setKindOfMusic","play","setPlay","firstTimeRef","console","log","patch","musicId","setMusicId","countryName","path","slice","substring","indexOf","map","el","name","replace","indexInTop100","findIndex","obj","params","theloai","history","musicListNew","songs","musicList","i","index","classes","handleMusicClick","music","current","indexMusic","newSelectMusic","title","creator","img","avatar","url","img_thumb","bgImage","active","newIsPlay","newTitle","elmnt","document","getElementById","scrollIntoView","behavior","block","inline","handlePlayClick","isPlay","newPlay","audio","pause","handlePreviosClick","newCurrentMusic","repeatRef","repeat","setRepeat","action","theme","backgroundColor","list","card","color","mainjs","musicListRender","musicItem","musicSelected","musicImg","musicItemTitle","mainContent","whiteSpace","overflow","textOverflow","display","boxOrient","lineClamp","wordBreak","flexItem"],"mappings":"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","sourcesContent":["import {\n  Box,\n  CardActionArea,\n  CardMedia,\n  Grid,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport Slider from \"@material-ui/core/Slider\";\nimport { ThemeProvider, useTheme, withStyles } from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport {\n  Link,\n  useHistory,\n  useLocation,\n  useParams,\n  useRouteMatch,\n} from \"react-router-dom\";\nimport useStyles from \"../style\";\n\nMusicList.propTypes = {\n  musics: PropTypes.object.isRequired,\n};\n\nMusicList.defaultProps = {\n  // musics: [],\n};\n\nfunction MusicList(props) {\n  const {\n    musics,\n    selectMusic,\n    setSelectMusic,\n    indexRef,\n    country,\n    setCountry,\n    kindOfMusic,\n    setKindOfMusic,\n    play,\n    setPlay,\n    firstTimeRef,\n  } = props;\n  console.log(\"DANH SACH NHAC: \", musics);\n  const patch = useRouteMatch();\n\n  const [musicId, setMusicId] = useState(0);\n\n  console.log(\"ID PARAM: \", musicId);\n  console.log(\"Patch: \", patch);\n\n  var countryName = patch.path.slice(1);\n\n  countryName = countryName.substring(countryName.indexOf(\"/\") + 1);\n  countryName = countryName.substring(0, countryName.indexOf(\"/\"));\n\n  //Handle covert / to - : Pop/Latin => Pop-Latin\n  musics.map((el) => {\n    el.name = el.name.replace(\"/\", \"-\");\n  });\n\n  let indexInTop100 = musics.findIndex(\n    (obj) => obj.name === patch.params.theloai\n  );\n  console.log(\"Vi Tri: \", indexInTop100);\n\n  const history = useHistory();\n\n  const musicListNew = musics[indexInTop100].songs;\n\n  const musicList = musicListNew;\n  let i = -1;\n  musicList.map((el) => {\n    el.index = i + 1;\n    i = i + 1;\n  });\n\n  const classes = useStyles();\n  const params = useParams();\n  //Handle MusicClick\n  const handleMusicClick = (music) => {\n    //Co the nghe nhac o nhieu bo suy tap va nhieu quoc gia nen phai set lai vi tri, dang nghe nhac VN co the chuyen sang nghe nhac AM\n    setKindOfMusic(indexInTop100);\n    setCountry(countryName);\n    //Dau tien vao chay useEffect se set firstTimeRef = true\n    firstTimeRef.current = false;\n    if (music && firstTimeRef.current === false) {\n      var indexMusic = musicList.findIndex((el) => el == music);\n\n      const newSelectMusic = {\n        title: music.title,\n        creator: music.creator,\n        img: music.avatar,\n        url: music.music,\n        img_thumb: music.bgImage,\n        index: indexMusic,\n        active: true,\n      };\n      indexRef.current = indexMusic;\n\n      setSelectMusic(newSelectMusic);\n\n      // var urlArr = patch.url.split(\"/\");\n      // var musicUrl = `${urlArr[0]}/${urlArr[1]}/${urlArr[2]}/${urlArr[3]}/${music.index}`;\n      // history.push(musicUrl);\n    } else return;\n  };\n\n  useEffect(() => {\n    const newIsPlay = true;\n    let newTitle;\n    //console.log(\"PHAT HIEN THAY DOI BAI HAT\");\n    // if (firstTimeRef.current === true) {\n    //   console.log(\"First time, don't play\");\n    //   const newPlay = {\n    //     isPlay: false,\n    //     title: \"Play\",\n    //   };\n    //   setPlay(newPlay);\n    // } else {\n    //   console.log(\"Not first time, countinue play\");\n    // }\n\n    var elmnt = document.getElementById(selectMusic.title);\n    console.log(\"Scroll\", elmnt);\n    if (elmnt) {\n      elmnt.scrollIntoView({\n        behavior: \"smooth\", //auto\n        block: \"center\",\n        inline: \"center\",\n      });\n    }\n  }, [selectMusic]);\n\n  //handle Firsttime don't play\n  // useEffect(() => {\n  //   const newPlay = {\n  //     isPlay: false,\n  //     title: \"Play\",\n  //   };\n  //   setPlay(newPlay);\n  //   return;\n  // }, []);\n  //end handle Firsttime don't play\n\n  //End Handle MusicClick\n  //Handle Play music click\n  const handlePlayClick = () => {\n    const newIsPlay = !play.isPlay;\n    let newTitle;\n    if (newIsPlay === true) newTitle = \"Pause\";\n    else newTitle = \"Play\";\n    const newPlay = {\n      isPlay: newIsPlay,\n      title: newTitle,\n    };\n    setPlay(newPlay);\n  };\n\n  useEffect(() => {\n    let audio = document.getElementById(\"music\");\n\n    if (play.isPlay === true) {\n      audio.play();\n    } else audio.pause();\n\n    // audio.play();\n    document.title = \"NhacCuaHoai - \" + selectMusic.title;\n  }, [play]);\n\n  //End handle Play music click\n\n  //Handle PreviosClick\n  const handlePreviosClick = () => {\n    indexRef.current === 0\n      ? (indexRef.current = 0)\n      : (indexRef.current = indexRef.current - 1);\n\n    selectMusic.active = false;\n    const newCurrentMusic = {\n      title: musicList[indexRef.current].title,\n      creator: musicList[indexRef.current].creator,\n      img: musicList[indexRef.current].avatar,\n      img_thumb: musicList[indexRef.current].bgImage,\n      url: musicList[indexRef.current].music,\n      index: indexRef.current,\n      active: true,\n    };\n    setSelectMusic(newCurrentMusic);\n  };\n\n  //End Handle PreviosClick\n  //Handle NextClick\n\n  const repeatRef = useRef(false);\n  const [repeat, setRepeat] = useState({\n    action: true,\n  });\n\n  const theme = useTheme();\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Grid\n        item\n        xs={12}\n        sm={8}\n        style={{\n          backgroundColor: \"transparent\",\n        }}\n      >\n        <div className={classes.list}>\n          <Paper\n            className={classes.card}\n            style={{\n              // backgroundImage: \"linear-gradient(to bottom, #ad5389, #3c1053)\",\n              backgroundColor: \"transparent\",\n            }}\n          >\n            <Grid item sm={12}>\n              <Grid container spacing={2}>\n                <Grid item xs={8} sm={6} alignItems=\"center\">\n                  <Typography\n                    gutterBottom\n                    variant=\"h5\"\n                    component=\"h5\"\n                    color=\"#ffffff\"\n                    style={{ color: \"white\" }}\n                    align=\"left\"\n                  >\n                    Bài hát\n                  </Typography>\n                </Grid>\n                <Grid item xs={4} sm={4} alignItems=\"left\">\n                  <Typography\n                    gutterBottom\n                    variant=\"h5\"\n                    component=\"h5\"\n                    color=\"#ffffff\"\n                    style={{ color: \"white\" }}\n                    align=\"left\"\n                  >\n                    Ca sĩ\n                  </Typography>\n                </Grid>\n                <Grid item xs={2} sm={2} alignItems=\"center\">\n                  <Typography\n                    gutterBottom\n                    variant=\"h5\"\n                    component=\"h5\"\n                    color=\"#ffffff\"\n                    style={{ color: \"white\" }}\n                    align=\"center\"\n                  >\n                    {/* Thời lượng */}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n\n            <Grid container spacing={2}>\n              <Grid item sm={12} xs={12} className={classes.mainjs}>\n                <Grid container spacing={2} id=\"listTable\">\n                  {musicList.map((musicListRender) => {\n                    if (\n                      musicListRender.index === indexRef.current &&\n                      musicListRender.title === selectMusic.title\n                    ) {\n                      return (\n                        <CardActionArea\n                          className={(classes.musicItem, classes.musicSelected)}\n                          onClick={() => handleMusicClick(musicListRender)}\n                          bgcolor=\"primary.main\"\n                        >\n                          <Grid\n                            item\n                            xs={12}\n                            sm={12}\n                            key={musicListRender.title}\n                          >\n                            <Grid container spacing={2}>\n                              <Grid item xs={8} sm={6} alignItems=\"center\">\n                                <div className={classes.musicItem}>\n                                  <CardMedia\n                                    className={classes.musicImg}\n                                    component=\"img\"\n                                    alt=\"Contemplative Reptile\"\n                                    image={musicListRender.avatar}\n                                    title=\"Contemplative Reptile\"\n                                  />\n                                  <div className={classes.musicItemTitle}>\n                                    <Typography\n                                      variant=\"h6\"\n                                      color=\"primary\"\n                                      className={classes.mainContent}\n                                      gutterBottom\n                                      id={musicListRender.title}\n                                    >\n                                      {musicListRender.title}\n                                    </Typography>\n\n                                    <div>\n                                      <Typography\n                                        pl={3}\n                                        variant=\"subtitle1\"\n                                        align=\"left\"\n                                        gutterBottom\n                                        color=\"primary\"\n                                        className={classes.mainContent}\n                                        style={{\n                                          whiteSpace: \"nowrap\",\n                                          overflow: \"hidden\",\n                                          textOverflow: \"ellipsis\",\n                                          display: \"-webkit-box\",\n                                          boxOrient: \"vertical\",\n                                          lineClamp: 1,\n                                          wordBreak: \"break-all\",\n                                          overflow: \"hidden\",\n                                        }}\n                                      >\n                                        {musicListRender.title}\n                                      </Typography>\n                                    </div>\n                                  </div>\n                                </div>\n                              </Grid>\n                              <Grid\n                                item\n                                xs={4}\n                                sm={4}\n                                alignItems=\"left\"\n                                // className={classes.flexItem}\n                              >\n                                <Box\n                                  display=\"flex\"\n                                  justifyContent=\"left\"\n                                  m={1}\n                                  p={1}\n                                  color=\"primary\"\n                                >\n                                  {\"  \"}\n                                  <Typography\n                                    pl={3}\n                                    variant=\"subtitle1\"\n                                    align=\"left\"\n                                    gutterBottom\n                                    color=\"primary\"\n                                    className={classes.musicItem}\n                                    className={classes.mainContent}\n                                    className={classes.flexItem}\n                                    style={{\n                                      whiteSpace: \"nowrap\",\n                                      overflow: \"hidden\",\n                                      textOverflow: \"ellipsis\",\n                                      display: \"-webkit-box\",\n                                      boxOrient: \"vertical\",\n                                      lineClamp: 1,\n                                      wordBreak: \"break-all\",\n                                      overflow: \"hidden\",\n                                    }}\n                                  >\n                                    {musicListRender.creator}\n                                  </Typography>\n                                </Box>\n                              </Grid>\n                              <Grid\n                                item\n                                xs={2}\n                                sm={2}\n                                alignItems=\"center\"\n                                id={`timeof${musicListRender.title}`}\n                              ></Grid>\n                            </Grid>\n                          </Grid>\n                        </CardActionArea>\n                      );\n                    } else {\n                      return (\n                        <CardActionArea\n                          className={(classes.musicItem, musicListRender.title)}\n                          onClick={() => handleMusicClick(musicListRender)}\n                          bgcolor=\"primary.main\"\n                        >\n                          <Grid\n                            item\n                            xs={12}\n                            sm={12}\n                            key={musicListRender.title}\n                          >\n                            <Grid container spacing={1}>\n                              <Grid item xs={8} sm={6} alignItems=\"center\">\n                                <div className={classes.musicItem}>\n                                  <CardMedia\n                                    className={classes.musicImg}\n                                    component=\"img\"\n                                    alt=\"Contemplative Reptile\"\n                                    image={musicListRender.avatar}\n                                    title=\"Contemplative Reptile\"\n                                  />\n                                  <div className={classes.musicItemTitle}>\n                                    <Typography\n                                      variant=\"h6\"\n                                      gutterBottom\n                                      className={classes.mainContent}\n                                      id={musicListRender.title}\n                                    >\n                                      {musicListRender.title}\n                                    </Typography>\n                                    <div>\n                                      <Typography\n                                        pl={3}\n                                        variant=\"subtitle1\"\n                                        align=\"left\"\n                                        gutterBottom\n                                        className={classes.musicItem}\n                                        className={classes.mainContent}\n                                        style={{\n                                          whiteSpace: \"nowrap\",\n                                          // overflow: \"hidden\",\n                                          textOverflow: \"ellipsis\",\n                                          display: \"-webkit-box\",\n                                          boxOrient: \"vertical\",\n                                          lineClamp: 1,\n                                          wordBreak: \"break-all\",\n                                          overflow: \"hidden\",\n                                        }}\n                                      >\n                                        {musicListRender.title}\n                                      </Typography>\n                                    </div>\n                                  </div>\n                                </div>\n                              </Grid>\n                              <Grid\n                                item\n                                xs={4}\n                                sm={4}\n                                alignItems=\"center\"\n                                // className={classes.flexItem}\n                              >\n                                <Box\n                                  display=\"flex\"\n                                  justifyContent=\"left\"\n                                  m={1}\n                                  p={1}\n                                >\n                                  {\"  \"}\n                                  <Typography\n                                    variant=\"subtitle1\"\n                                    align=\"left\"\n                                    gutterBottom\n                                    justifyContent=\"left\"\n                                    // className={classes.musicItem1}\n                                    className={classes.musicItem}\n                                    className={classes.mainContent}\n                                    className={classes.flexItem}\n                                    color=\"primary\"\n                                    style={{\n                                      whiteSpace: \"nowrap\",\n                                      overflow: \"hidden\",\n                                      textOverflow: \"ellipsis\",\n                                      display: \"-webkit-box\",\n                                      boxOrient: \"vertical\",\n                                      lineClamp: 1,\n                                      wordBreak: \"break-all\",\n                                      overflow: \"hidden\",\n                                    }}\n                                  >\n                                    {musicListRender.creator}\n                                  </Typography>\n                                </Box>\n                              </Grid>\n                              <Grid\n                                item\n                                xs={2}\n                                sm={2}\n                                alignItems=\"center\"\n                                id={`timeof${musicListRender.title}`}\n                              >\n                                {\" \"}\n                              </Grid>\n                            </Grid>\n                          </Grid>\n                        </CardActionArea>\n                      );\n                    }\n                  })}\n                </Grid>\n              </Grid>\n            </Grid>\n          </Paper>\n        </div>\n      </Grid>\n    </ThemeProvider>\n  );\n}\n\nexport default MusicList;\n"]},"metadata":{},"sourceType":"module"}